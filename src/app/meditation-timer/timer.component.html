<app-timer-progress *ngIf="!results" [time]="time"></app-timer-progress>
<div class="flex" *ngIf="!results">
    <span class="fill-remaining-space"></span>
    <mat-icon class="person">person</mat-icon>
    <span class="circle" [@breathingCircle]="{value: state, params:{time: breathTimeSetting}}"></span>
    <span class="fill-remaining-space"></span>
</div>

<div class="container" *ngIf="!results">
    <mat-slider
        class="slider"
        [max]="10"
        [min]="2"
        [tickInterval]="1"
        (input)="changeBreath($event)"
        [(value)]="breathTimeSetting">
    </mat-slider>
    <div class="time">{{ minutes }}:{{ seconds | number: '2.0-0' }}</div>
    <div class="time">Minutes Complete</div>
    <button *ngIf="!running && !finished" class="playButton" mat-raised-button (click)="startTimer(); toggleBreathingCircle(); running = true">Start<mat-icon>play_arrow</mat-icon></button>
    <button *ngIf="running && !finished" class="playButton" mat-raised-button (click)="pauseTimer(); running = false">Pause<mat-icon>pause</mat-icon></button>
    <button *ngIf="finished" class="playButton" mat-raised-button (click)="results = true">Go to Results</button>
    <!-- <button *ngIf="minutes > 0" class="submit">Submit</button> -->
</div>

<app-stats *ngIf="results"
[sessionTime]="{minutes: minutes, seconds: seconds, total_seconds: currentTime}"
[sessionBreaths]="breathCount">
</app-stats>